<div class="w-full max-w-md mx-auto bg-white rounded-xl shadow-md p-6" data-testid="loan-container">
  <h2 class="text-2xl font-semibold text-gray-800 mb-6" data-testid="create-loan-title">Nuevo Prestamo
    para "{{ clientName() }}"</h2>
  <form [formGroup]="loanForm" (ngSubmit)="onSubmit()" class="space-y-4" data-testid="loan-form">
    <div data-testid="loan-amount-container">
      <label for="amount" class="block text-sm font-medium text-gray-700" data-testid="loan-amount-label">Monto</label>
      <input type="number" id="amount" formControlName="amount"
             class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
             data-testid="loan-amount-input">
      <p *ngIf="loanForm.get('amount')?.invalid && loanForm.get('amount')?.touched"
         class="mt-1 text-sm text-red-600" data-testid="loan-amount-error">El monto debe de ser un numero mayor a 0.</p>
    </div>

    <div data-testid="loan-interest-rate-container">
      <label for="interestRate" class="block text-sm font-medium text-gray-700" data-testid="loan-interest-rate-label">Interes (%)</label>
      <input type="number" id="interestRate" formControlName="interestRate"
             class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
             data-testid="loan-interest-rate-input">
      <p *ngIf="loanForm.get('interestRate')?.invalid && loanForm.get('interestRate')?.touched"
         class="mt-1 text-sm text-red-600" data-testid="loan-interest-rate-error">El interes es requerido y debe ser un numero entre 0 y 100</p>
    </div>

    <div data-testid="loan-duration-container">
      <label for="duration" class="block text-sm font-medium text-gray-700" data-testid="loan-duration-label">Numero de dias</label>
      <input type="number" id="duration" formControlName="duration"
             class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
             data-testid="loan-duration-input">
      <p *ngIf="loanForm.get('duration')?.invalid && loanForm.get('duration')?.touched"
         class="mt-1 text-sm text-red-600" data-testid="loan-duration-error">El numero de dias debe ser correcto</p>
    </div>



    <div data-testid="loan-type-container">
      <label class="block text-sm font-medium text-gray-700" data-testid="loan-type-label">Tipo de préstamo</label>
      <div class="mt-2 space-y-2">
        <div>
          <input type="radio" id="daily" formControlName="loanType" value="daily"
                 class="mr-2 focus:ring focus:ring-blue-300 focus:ring-opacity-50"
                 data-testid="loan-type-daily">
          <label for="daily" class="text-sm font-medium text-gray-700">Diario</label>
        </div>
        <div>
          <input type="radio" id="weekly" formControlName="loanType" value="weekly"
                 class="mr-2 focus:ring focus:ring-blue-300 focus:ring-opacity-50"
                 data-testid="loan-type-weekly">
          <label for="weekly" class="text-sm font-medium text-gray-700">Semanal</label>
        </div>
        <div>
          <input type="radio" id="monthly" formControlName="loanType" value="monthly"
                 class="mr-2 focus:ring focus:ring-blue-300 focus:ring-opacity-50"
                 data-testid="loan-type-monthly">
          <label for="monthly" class="text-sm font-medium text-gray-700">Mensual</label>
        </div>
      </div>
      <p *ngIf="loanForm.get('loanType')?.invalid && loanForm.get('loanType')?.touched"
         class="mt-1 text-sm text-red-600" data-testid="loan-type-error">Debe seleccionar un tipo de préstamo.</p>
    </div>

    <div class="mt-6 flex justify-end space-x-3">
      <button type="button" (click)="onCancel()"
              class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
        Cancelar
      </button>
      <button type="submit"
              class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
              [disabled]="loanForm.invalid">
        Crear Prestamo
      </button>
    </div>

<!--    <button type="submit"-->
<!--            [disabled]="loanForm.invalid"-->
<!--            class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"-->
<!--            data-testid="create-loan-button">-->
<!--      Crear Prestamo-->
<!--    </button>-->
  </form>
</div>





<!--    <div data-testid="loan-date-container">-->
<!--      <label for="date" class="block text-sm font-medium text-gray-700" data-testid="loan-date-label">Fecha</label>-->
<!--      <input type="date" id="date" formControlName="date"-->
<!--             class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"-->
<!--             data-testid="loan-date-input">-->
<!--      <p *ngIf="loanForm.get('date')?.invalid && loanForm.get('date')?.touched"-->
<!--         class="mt-1 text-sm text-red-600" data-testid="loan-date-error">Date is required.</p>-->
<!--    </div>-->
